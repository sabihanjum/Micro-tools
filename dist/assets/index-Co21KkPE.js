(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function o(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=o(n);fetch(n.href,l)}})();function g(e){const t=Number(e);return e===""||e===null||e===void 0?{valid:!1,error:"Please enter a valid positive amount"}:isNaN(t)?{valid:!1,error:"Please enter a valid positive amount"}:t<=0?{valid:!1,error:"Please enter a valid positive amount"}:{valid:!0,error:null}}function y(e){const t=Number(e);return e===""||e===null||e===void 0?{valid:!1,error:"Please enter at least 2 people"}:isNaN(t)?{valid:!1,error:"Please enter at least 2 people"}:t<2?{valid:!1,error:"Please enter at least 2 people"}:{valid:!0,error:null}}function h(e){if(e===""||e===null||e===void 0)return{valid:!0,error:null};const t=Number(e);return isNaN(t)?{valid:!1,error:"Tip percentage must be between 0 and 100"}:t<0||t>100?{valid:!1,error:"Tip percentage must be between 0 and 100"}:{valid:!0,error:null}}function I(e,t,o=0){const r=Number(e),n=Number(t),l=Number(o)||0,u=Math.round(r*l/100*100)/100,E=r+u,P=Math.round(E/n*100)/100,N=Math.round(E*100)/100;return{originalAmount:r,tipPercentage:l,tipAmount:u,totalWithTip:N,perPersonAmount:P,numberOfPeople:n}}function m(e){return`$${Number(e).toFixed(2)}`}document.getElementById("calculator-form");const i=document.getElementById("total-amount"),s=document.getElementById("number-of-people"),a=document.getElementById("tip-percentage"),B=document.getElementById("calculate-btn"),C=document.getElementById("reset-btn"),d=document.querySelectorAll(".preset-btn"),L=document.getElementById("results"),f=document.getElementById("amount-error"),v=document.getElementById("people-error"),p=document.getElementById("tip-error");function x(){b();const e=g(i.value),t=y(s.value),o=h(a.value);let r=!1;if(e.valid||(c("amount",e.error),r=!0),t.valid||(c("people",t.error),r=!0),o.valid||(c("tip",o.error),r=!0),r)return;const n=I(i.value,s.value,a.value||0);T(n)}function A(){i.value="",s.value="",a.value="",b(),L.classList.add("hidden"),d.forEach(e=>e.classList.remove("active")),i.focus()}function O(e){a.value=e,d.forEach(t=>{Number(t.dataset.tip)===e?t.classList.add("active"):t.classList.remove("active")}),p.textContent="",a.classList.remove("error")}function T(e){document.getElementById("result-original").textContent=m(e.originalAmount),document.getElementById("result-tip-percent").textContent=`${e.tipPercentage}%`,document.getElementById("result-tip-amount").textContent=m(e.tipAmount),document.getElementById("result-total").textContent=m(e.totalWithTip),document.getElementById("result-per-person").textContent=m(e.perPersonAmount),L.classList.remove("hidden")}function c(e,t){let o,r;switch(e){case"amount":o=f,r=i;break;case"people":o=v,r=s;break;case"tip":o=p,r=a;break}o&&r&&(o.textContent=t,r.classList.add("error"))}function b(){f.textContent="",v.textContent="",p.textContent="",i.classList.remove("error"),s.classList.remove("error"),a.classList.remove("error")}B.addEventListener("click",x);C.addEventListener("click",A);d.forEach(e=>{e.addEventListener("click",()=>{O(Number(e.dataset.tip))})});i.addEventListener("input",()=>{const e=g(i.value);!e.valid&&i.value!==""?c("amount",e.error):(f.textContent="",i.classList.remove("error"))});s.addEventListener("input",()=>{const e=y(s.value);!e.valid&&s.value!==""?c("people",e.error):(v.textContent="",s.classList.remove("error"))});a.addEventListener("input",()=>{const e=h(a.value);!e.valid&&a.value!==""?c("tip",e.error):(p.textContent="",a.classList.remove("error"));const t=Number(a.value);let o=!1;d.forEach(r=>{Number(r.dataset.tip)===t?(o=!0,r.classList.add("active")):r.classList.remove("active")}),o||d.forEach(r=>r.classList.remove("active"))});
